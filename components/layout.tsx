import styles from '../styles/app.module.css'
import Head from 'next/head'
import Header from './header'
import Sidebar from './sidebar'
import MobileSidebar from './mobile_sidebar'
import { ReactNode, useState } from 'react'
import { useSession } from 'next-auth/react'
import Footer from './footer'

export default function Layout({ children } : {children : ReactNode}) {
    const [side, setSide] = useState(false)

    const { data: session, status } = useSession()

    

    const name:string = session ? session.user?.name! : ""
    const mail:string = session?.user?.email!


  return (
    <>
        <Head>
            <title>Savelink</title>
            <link rel="manifest" href="/manifest.json" />
            <link rel="apple-touch-icon" href="/icon.png"></link>
            <meta name="theme-color" content="#fff" />
            <meta name="Savelink" content="Generated by create next app" />
        </Head>

        <header className={styles.header} >
            <Header side={side} setSide = {setSide} name = {name} />
        </header>

        {/* {side && <MobileSidebar name = {mail} side={side} setSide={setSide} />} */}
        <main className={styles.main} >
            <div className={styles.side}>
                <Sidebar name = {mail} />
            </div>
            <div className={styles.pages}>
                <main>{children}</main>
            </div>
        </main>

        <footer>
            <Footer side={side} setSide = {setSide} name = {mail}/>
        </footer>
    </>
  )
}