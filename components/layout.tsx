import styles from '../styles/app.module.css'
import Head from 'next/head'
import Header from './header'
import Sidebar from './sidebar'
import MobileSidebar from './mobile_sidebar'
import { ReactNode, useState } from 'react'
import { useSession } from 'next-auth/react'


export default function Layout({ children } : {children : ReactNode}) {
    const [side, setSide] = useState(false)

    const { data: session, status } = useSession()

    

    const name:string = session ? session.user?.name! : ""
    const mail:string = session?.user?.email!

    

  return (
    <>
        <Head>
            <title>Savelink</title>
            <meta name="description" content="Generated by create next app" />
            <link rel="icon" href="/favicon.ico" />
        </Head>

        <header className={styles.header} >
            <Header side={side} setSide = {setSide} name = {name} />
        </header>

        {side && <MobileSidebar side={side} setSide={setSide} />}
        <main className={styles.main} >
            <div className={styles.side}>
                <Sidebar name = {mail} />
            </div>
            <div className={styles.pages}>
                <main>{children}</main>
            </div>
        </main>
    </>
  )
}